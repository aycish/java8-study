## 프로토 타입 패턴

---

### [정의]

- 기존 인스턴스를 복제(응용)하여 새로운 인스턴스를 만드는 방법
    - 인스턴스 생성에 비용이 큰 경우에 응용하자.
        - Database에서 data를 가져와서 인스턴스를 생성하는것 처럼 DB 접근이 필요한 경우
        - REST API Request 결과를 가지고 인스턴스를 생성하는것 처럼 네트워크를 한번 거치는 경우
- 복제 기능을 갖추고 있는 기존 인스턴스를 프로토타입으로 사용해 새 인스턴스를 만들 수 있다.

### [구현 방법]

- 기존 인스턴스를 복제하여 새로운 인스턴스를 생성한다.
- 예제에서는Cloneable 인터페이스를 구현하고, Object의 clone()메서드를 오버라이드하여 구현
- 기본적으로 복제 대상이 immutable이나 primitive라면 얕은 복사를 사용하도록 하자.
- 만약 가변적인 데이터를 가지고 있다면, 깊은 카피를 사용해야하는지 얕은 복사를 사용해야하는지를 요구사항에 따라 결정해야한다.

### [장단점]

**장점**

- 복잡한 객체를 만드는 과정을 숨길 수 있다.
- 기존 객체를 복제하는 과정이 새 인스턴스를 만드는것보다 비용(시간, 메모리)적인 면에서 효율적일수 있다.
- 추상적인 타입을 리턴할 수 있다. → 꼭 똑같은 객체를 복사할 필요는 없고, 필요한 정보만 가져다가 객체를 생성하여 반환할 수 있다.

**단점**

- 복제한 객체를 만드는 과정 자체가 복잡해질 수 있다. (순환 참조가 있는 경우)

### [활용 사례]

- 자바 Object 클래스의 clone 메소드와 Cloneable 인터페이스를 통한 collection 복사
- shallow copy와 deep copy
- ModelMapper